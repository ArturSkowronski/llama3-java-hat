--- a/hat/hat/bld.java	2026-02-20 17:41:58.704834914 +0100
+++ b/hat/hat/bld.java	2026-02-20 17:44:47.886497823 +0100
@@ -141,8 +141,8 @@
                      └──src/main/resources
        """;
     class Artifacts{
+        static Script.MavenStyleProject optkl;
         static Script.MavenStyleProject core;
-        static Script.MavenStyleProject tools;
         static Script.MavenStyleProject tests;
         static Script.MavenStyleProject example_shared;
         static Script.MavenStyleProject example_nbody;
@@ -166,16 +166,16 @@
     var dir = Script.DirEntry.current();
     var buildDir = Script.BuildDir.of(dir.path("build")).create();
 
-    Artifacts.core = buildDir.mavenStyleBuild(
-            dir.existingDir("core"), "hat-core-1.0.jar"
+    Artifacts.optkl = buildDir.mavenStyleBuild(
+            dir.existingDir("optkl"), "hat-optkl-1.0.jar"
     );
 
-    Artifacts.tools = buildDir.mavenStyleBuild(
-            dir.existingDir("tools"), "hat-tools-1.0.jar", Artifacts.core
+    Artifacts.core = buildDir.mavenStyleBuild(
+            dir.existingDir("core"), "hat-core-1.0.jar", Artifacts.optkl
     );
 
     Artifacts.tests = buildDir.mavenStyleBuild(
-            dir.existingDir("tests"), "hat-tests-1.0.jar", Artifacts.core
+            dir.existingDir("tests"), "hat-tests-1.0.jar", Artifacts.optkl, Artifacts.core
     );
 
     var extractionsDir = dir.existingDir("extractions");
@@ -258,62 +258,62 @@
 
     var ffiBackendsDir = backendsDir.existingDir("ffi");
     Artifacts.backend_ffi_shared = buildDir.mavenStyleBuild(
-            ffiBackendsDir.existingDir("shared"), "hat-backend-ffi-shared-1.0.jar", Artifacts.core
+            ffiBackendsDir.existingDir("shared"), "hat-backend-ffi-shared-1.0.jar", Artifacts.optkl, Artifacts.core
     );
 
     if (ffiBackendsDir.optionalDir("opencl") instanceof Script.DirEntry ffiBackendDir ) {
         Artifacts.backend_ffi_opencl = buildDir.mavenStyleBuild(
-                ffiBackendDir, "hat-backend-ffi-"+ffiBackendDir.fileName()+ "-1.0.jar", Artifacts.core, Artifacts.backend_ffi_shared
+                ffiBackendDir, "hat-backend-ffi-"+ffiBackendDir.fileName()+ "-1.0.jar", Artifacts.optkl, Artifacts.core, Artifacts.backend_ffi_shared
         );
     }
     if (ffiBackendsDir.optionalDir("mock") instanceof Script.DirEntry ffiBackendDir) {
         Artifacts.backend_ffi_mock = buildDir.mavenStyleBuild(
-                ffiBackendDir, "hat-backend-ffi-"+ffiBackendDir.fileName()+ "-1.0.jar", Artifacts.core, Artifacts.backend_ffi_shared
+                ffiBackendDir, "hat-backend-ffi-"+ffiBackendDir.fileName()+ "-1.0.jar", Artifacts.optkl, Artifacts.core, Artifacts.backend_ffi_shared
         );
     }
 
     if (ffiBackendsDir.optionalDir("cuda") instanceof Script.DirEntry ffiBackendDir) {
         Artifacts.backend_ffi_cuda = buildDir.mavenStyleBuild(
-                ffiBackendDir, "hat-backend-ffi-"+ffiBackendDir.fileName()+ "-1.0.jar", Artifacts.core, Artifacts.backend_ffi_shared
+                ffiBackendDir, "hat-backend-ffi-"+ffiBackendDir.fileName()+ "-1.0.jar", Artifacts.optkl, Artifacts.core, Artifacts.backend_ffi_shared
         );
     }
 
     var jextractedBackendsDir = backendsDir.existingDir("jextracted");
 
     Artifacts.backend_jextracted_shared = buildDir.mavenStyleBuild(
-            jextractedBackendsDir.existingDir("shared"), "hat-backend-jextracted-shared-1.0.jar", Artifacts.core
+            jextractedBackendsDir.existingDir("shared"), "hat-backend-jextracted-shared-1.0.jar", Artifacts.optkl, Artifacts.core
     );
 
     if (Artifacts.extraction_opencl != null && jextractedBackendsDir.optionalDir("opencl") instanceof Script.DirEntry jextractedBackendDir) {
         Artifacts.backend_jextracted_opencl = buildDir.mavenStyleBuild(
                 jextractedBackendDir, "hat-backend-jextracted-" + jextractedBackendDir.fileName() + "-1.0.jar",
-                Artifacts.core, Artifacts.extraction_opencl, Artifacts.backend_jextracted_shared
+                Artifacts.optkl, Artifacts.core, Artifacts.extraction_opencl, Artifacts.backend_jextracted_shared
         );
     }
 
     if (Artifacts.extraction_cuda != null && jextractedBackendsDir.optionalDir("cuda") instanceof Script.DirEntry jextractedBackendDir) {
         Artifacts.backend_jextracted_cuda = buildDir.mavenStyleBuild(
                 jextractedBackendDir, "hat-backend-jextracted-" + jextractedBackendDir.fileName() + "-1.0.jar",
-                Artifacts.core, Artifacts.extraction_cuda, Artifacts.backend_jextracted_shared
+                Artifacts.optkl, Artifacts.core, Artifacts.extraction_cuda, Artifacts.backend_jextracted_shared
         );
     }
 
     var javaBackendsDir = backendsDir.existingDir("java");
     Artifacts.backend_java_mt =  buildDir.mavenStyleBuild(javaBackendsDir.existingDir("mt"),
-            "hat-backend-java-mt-1.0.jar", Artifacts.core
+            "hat-backend-java-mt-1.0.jar", Artifacts.optkl, Artifacts.core
     );
     Artifacts.backend_java_seq =  buildDir.mavenStyleBuild(javaBackendsDir.existingDir("seq"),
-            "hat-backend-java-seq-1.0.jar", Artifacts.core
+            "hat-backend-java-seq-1.0.jar", Artifacts.optkl, Artifacts.core
     );
 
     var examplesDir = dir.existingDir("examples");
 
 
-    Stream.of( "blackscholes", "squares", "matmul", "flashattention")
+    Stream.of( "blackscholes", "squares")
             .parallel()
             .map(examplesDir::existingDir)
             .forEach(exampleDir->buildDir.mavenStyleBuild(
-                    exampleDir, "hat-example-"+exampleDir.fileName()+"-1.0.jar", Artifacts.core
+                    exampleDir, "hat-example-"+exampleDir.fileName()+"-1.0.jar", Artifacts.optkl, Artifacts.core
             ));
 
     Stream.of( "experiments")   // this has hardcoded references to opencl backend
@@ -321,18 +321,18 @@
             .map(examplesDir::existingDir)
             .forEach(exampleDir->buildDir.mavenStyleBuild(
                     exampleDir, "hat-example-"+exampleDir.fileName()+"-1.0.jar",
-                    Artifacts.core, Artifacts.backend_ffi_shared, Artifacts.backend_ffi_opencl
+                    Artifacts.optkl, Artifacts.core, Artifacts.backend_ffi_shared, Artifacts.backend_ffi_opencl
             ));
 
     Artifacts.example_shared = buildDir.mavenStyleBuild(
-            examplesDir.existingDir("shared"), "hat-example-shared-1.0.jar", Artifacts.core
+            examplesDir.existingDir("shared"), "hat-example-shared-1.0.jar", Artifacts.optkl, Artifacts.core
     );
 
-    Stream.of( "heal", "life", "mandel", "violajones")   // these require example_shared ui stuff
+    Stream.of( "heal", "life", "mandel", "violajones", "matmul", "flashattention")   // these require example_shared ui stuff
             .parallel()
             .map(examplesDir::existingDir)
             .forEach(exampleDir->buildDir.mavenStyleBuild(
-                    exampleDir, "hat-example-"+exampleDir.fileName()+"-1.0.jar", Artifacts.core, Artifacts.example_shared
+                    exampleDir, "hat-example-"+exampleDir.fileName()+"-1.0.jar", Artifacts.optkl, Artifacts.core, Artifacts.example_shared
             ));
 
     var nbodyDependencies = new Script.MavenStyleProject[]{
